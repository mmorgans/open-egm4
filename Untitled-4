## Introduction[#](https://docs.mor-gan.com/posts/creating-animations-of-soil-cores/#introduction)
[#](https://docs.mor-gan.com/posts/creating-animations-of-soil-cores/#introduction)
Goal: To create animations of soil cores spinning from .vol files obtained from the Pacific Northwest National Laboratory.
We’re getting our files from the Environmental Molecular Sciences Laboratory at the Pacific Northwest National Laboratory, who have scanned the soil cores with a Nikon XTH CT scanner.

## Requirements[#](https://docs.mor-gan.com/posts/creating-animations-of-soil-cores/#requirements)
[#](https://docs.mor-gan.com/posts/creating-animations-of-soil-cores/#requirements)
- .vol files from a CT scanner
- At least 16gb of memory

[Ideally more](https://downloadmoreram.com/). Both Fiji and Dragonfly attempt to load the entire file into memory; the downloaded .vol is almost 40gb.


- [Ideally more](https://downloadmoreram.com/). Both Fiji and Dragonfly attempt to load the entire file into memory; the downloaded .vol is almost 40gb.
- [Dragonfly from Comet Software](https://dragonfly.comet.tech/). You’ll need a license: [30 day free trials](https://www.theobjects.com/dragonfly/get-trial-version-request-comet.php) are easily accessible, and [non commercial licenses are available](https://dragonfly.comet.tech/en/non-commercial-licensing).
- [Fiji](https://fiji.sc/) or ImageJ, but use Fiji.
- A windows or Linux machine to run Dragonfly on; everything but that can be done on Mac
- [Ideally more](https://downloadmoreram.com/). Both Fiji and Dragonfly attempt to load the entire file into memory; the downloaded .vol is almost 40gb.
[Ideally more](https://downloadmoreram.com/)
[Dragonfly from Comet Software](https://dragonfly.comet.tech/)
[30 day free trials](https://www.theobjects.com/dragonfly/get-trial-version-request-comet.php)
[non commercial licenses are available](https://dragonfly.comet.tech/en/non-commercial-licensing)
[Fiji](https://fiji.sc/)

## TL;DR[#](https://docs.mor-gan.com/posts/creating-animations-of-soil-cores/#tl-dr)
[#](https://docs.mor-gan.com/posts/creating-animations-of-soil-cores/#tl-dr)
- Download .vol files from [EMSL Data portal](https://sc-data.emsl.pnnl.gov/#state=32f73ab7-1755-4bad-8f02-a5640adf3a1a&session_state=0f3eb580-fa1b-48b2-aed4-6eefcad788f9&code=6f48e754-f383-442b-884b-f7222be36fbe.0f3eb580-fa1b-48b2-aed4-6eefcad788f9.21cf84f6-6ada-4d20-8b12-72f0a3e0bce3)
- Import the files into Fiji as raw data, 2000x2000x2000

Convert to 8-bit, save as .tiff


- Convert to 8-bit, save as .tiff
- Open the .tiff in Dragonfly, crop to slices 250-1800

Make a cylindrical mask to crop the garbage off the core
Use movie maker to make a rotating movie, export to .avi


- Make a cylindrical mask to crop the garbage off the core
- Use movie maker to make a rotating movie, export to .avi
- Use ffmpeg or similar to convert to mp4
- Use kdenlive or similar to crop to square
- Use Gifski to convert to reasonably sized gif
[EMSL Data portal](https://sc-data.emsl.pnnl.gov/#state=32f73ab7-1755-4bad-8f02-a5640adf3a1a&session_state=0f3eb580-fa1b-48b2-aed4-6eefcad788f9&code=6f48e754-f383-442b-884b-f7222be36fbe.0f3eb580-fa1b-48b2-aed4-6eefcad788f9.21cf84f6-6ada-4d20-8b12-72f0a3e0bce3)
- Convert to 8-bit, save as .tiff
- Make a cylindrical mask to crop the garbage off the core
- Use movie maker to make a rotating movie, export to .avi

## Getting .vol files from EMSL data portal[#](https://docs.mor-gan.com/posts/creating-animations-of-soil-cores/#getting-dot-vol-files-from-emsl-data-portal)
[#](https://docs.mor-gan.com/posts/creating-animations-of-soil-cores/#getting-dot-vol-files-from-emsl-data-portal)